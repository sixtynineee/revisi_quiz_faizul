:root{
  --bg:#111;
  --bg-alt:#121212;
  --card:#181818;
  --muted:#9aa4a6;
  --text:#eaf6ef;
  --accent:#00A884;
  --danger:#ff6b6b;
  --radius:12px;
  --soft-shadow: 0 6px 18px rgba(0,0,0,0.6);
  --glass: rgba(255,255,255,0.02);
  --gap:14px;
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
}

*{ box-sizing:border-box }

html,body,#root{ height:100% }

body{
  margin:0;
  background:linear-gradient(180deg,var(--bg) 0%, var(--bg-alt) 100%);
  color:var(--text);
  -webkit-font-smoothing:antialiased;
  line-height:1.45;
}

.app{
  min-height:100vh;
  display:flex;
  flex-direction:column;
}

/* Topbar */
.topbar{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:16px 20px;
  border-bottom:1px solid rgba(255,255,255,0.03);
}
.topbar h1{ margin:0;font-size:18px }
.top-actions{ display:flex;gap:10px }

/* Main container */
.container{
  display:flex;
  gap:var(--gap);
  padding:20px;
  flex:1;
  width:min(1100px,100%);
  margin:18px auto;
  align-items:flex-start;
}

/* Card */
.card{
  background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border-radius:var(--radius);
  padding:18px;
  box-shadow:var(--soft-shadow);
  border:1px solid rgba(255,255,255,0.03);
}

/* Small UI */
.list{ display:flex; flex-direction:column; gap:10px; margin-top:10px }
.small{ font-size:12px; color:var(--muted) }
.footer{ padding:12px;text-align:center;color:var(--muted);font-size:13px }

/* Buttons */
.btn{
  padding:8px 12px;
  border-radius:999px;
  background:transparent;
  border:1px solid rgba(255,255,255,0.06);
  color:var(--text);
  cursor:pointer;
  text-decoration:none;
  display:inline-flex;
  align-items:center;
  gap:8px;
  transition:all .15s ease;
}
.btn:hover{ transform:translateY(-1px) }
.btn.primary{ background:var(--accent); color:#fff; border:0 }
.btn.circle{ width:40px;height:40px;display:grid;place-items:center;border-radius:50% }
.btn.danger{ border:1px solid rgba(255,107,107,0.18);color:var(--danger) }
.btn.danger:hover{ filter:brightness(1.05) }

/* Course item */
.course-item{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:12px;
  border-radius:10px;
  background:var(--glass);
  border:1px solid rgba(255,255,255,0.02);
}
.course-item .left{ display:flex;gap:12px;align-items:center }
.course-badge{
  width:44px;height:44px;border-radius:10px;
  background:rgba(0,0,0,0.3);
  display:grid;place-items:center;
  font-weight:600;color:var(--accent)
}

/* Quiz */
.question-card{
  margin:12px 0;
  padding:12px;
  background:rgba(255,255,255,0.01);
  border-radius:12px;
  border:1px solid rgba(255,255,255,0.02);
}
.q-text{ margin-bottom:10px }
.choices{ display:grid; gap:10px }

/* Choice UI */
.choice{
  padding:12px;
  border-radius:10px;
  border:1px solid rgba(255,255,255,0.03);
  cursor:pointer;
  background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005));
  user-select:none;
  transition:all .18s ease;
}
.choice .label{ font-weight:700;color:var(--accent);margin-right:8px }

/* Saat dipilih sementara */
.choice.chosen{
  outline:2px solid rgba(0,168,132,0.25);
  transform:translateY(-1px);
}

/* Disable choices setelah selesai */
.choices.disabled-choices{
  pointer-events:none;
  opacity:.95;
}

/* Benar / Salah */
.choice.final-correct{
  background:linear-gradient(180deg, rgba(0,168,132,0.18), rgba(0,168,132,0.08));
  border-color:rgba(0,168,132,0.4);
}
.choice.final-wrong{
  background:linear-gradient(180deg, rgba(255,107,107,0.16), rgba(255,107,107,0.07));
  border-color:rgba(255,107,107,0.35);
}

/* Result */
.result-row{
  margin:10px 0;
  padding:12px;
  border-radius:10px;
  border-left:4px solid transparent;
  background:rgba(255,255,255,0.01);
}
.result-row.correct{ border-left-color:var(--accent) }
.result-row.incorrect{ border-left-color:var(--danger) }

/* Admin Layout */
.admin-container{ display:flex; gap:var(--gap); width:100% }
.left-panel{ width:340px; max-height:70vh; overflow:auto; padding:12px }
.right-panel{ flex:1; max-height:70vh; overflow:auto; padding:12px }
textarea,input,select{
  padding:10px;
  border-radius:10px;
  background:transparent;
  border:1px solid rgba(255,255,255,0.03);
  color:var(--text)
}

/* Responsive */
@media(max-width:900px){
  .container{ flex-direction:column; padding:14px }
  .admin-container{ flex-direction:column }
  .left-panel,.right-panel{ width:100%;max-height:none }
}

/* Utility */
.muted{ color:var(--muted);font-size:13px }
.actions-row{ display:flex; gap:10px; justify-content:flex-end; margin-top:10px }

/* =========================
   PAGE TRANSITIONS & WHATSAPP UX
========================= */

.section {
  will-change: transform, opacity;
  transition: transform 320ms cubic-bezier(.22,.9,.34,1), opacity 260ms ease;
  transform-origin: top center;
}

.section.hidden {
  opacity: 0;
  pointer-events: none;
  transform: translateY(12px) scale(0.995);
}

.section.visible {
  opacity: 1;
  pointer-events: auto;
  transform: translateY(0) scale(1);
}

.section.exiting {
  opacity: 0;
  transform: translateY(-10px) scale(0.995);
  pointer-events: none;
}

#confirmModal {
  z-index: 12000;
  display: none;
  align-items: center;
  justify-content: center;
}
#confirmModal .modal-card {
  transform-origin: center;
  transform: translateY(10px) scale(.98);
  opacity: 0;
  transition: transform 260ms cubic-bezier(.22,.9,.34,1), opacity 220ms ease;
}
#confirmModal.show { display: flex; }
#confirmModal.show .modal-card {
  transform: translateY(0) scale(1);
  opacity: 1;
}

.wa-toast {
  transition: transform 240ms cubic-bezier(.22,.9,.34,1), opacity 220ms;
  transform: translateY(-8px);
  opacity: 1;
}
.wa-toast.hide {
  transform: translateY(-18px);
  opacity: 0;
}

/* course item animation */
.course-item {
  transform-origin: left center;
  transition: transform 360ms cubic-bezier(.2,.9,.3,1), opacity 260ms ease;
  opacity: 1;
}
.course-item.new-item { transform: translateX(-8px); opacity: 0; }
.course-item.shown { transform: translateX(0); opacity: 1; }

/* button micro interactions */
.btn {
  transition: transform 120ms ease, box-shadow 120ms ease;
}
.btn:active { transform: translateY(1px) scale(.995); }

/* hover animations */
.question-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 8px 24px rgba(0,0,0,0.25);
}

.choice:hover { transform: translateY(-2px); box-shadow: 0 6px 18px rgba(0,0,0,0.2); }

/* review fade */
#reviewContainer { opacity:0; transform: translateY(8px); transition: opacity 260ms, transform 260ms; }
#reviewContainer.visible { opacity:1; transform: translateY(0); }

/* ============================
   ADMIN PANEL DARK MODE SUPPORT
============================ */

.wa-root,
.wa-sidebar,
.wa-main,
.wa-card {
  background: var(--card) !important;
  color: var(--text) !important;
  border-color: rgba(255,255,255,0.06) !important;
}

.wa-sidebar {
  box-shadow: var(--soft-shadow) !important;
}

.wa-card {
  box-shadow: var(--soft-shadow) !important;
}

.badge {
  background: rgba(255,255,255,0.05) !important;
  color: var(--accent) !important;
}

.menu button {
  background: transparent !important;
  color: var(--text) !important;
  border-radius: 10px !important;
}

.menu button:hover {
  background: rgba(255,255,255,0.06) !important;
}

.menu button.active {
  background: rgba(255,255,255,0.12) !important;
}

.materi-row {
  background: rgba(255,255,255,0.05) !important;
  border: 1px solid rgba(255,255,255,0.08) !important;
  border-radius: 10px !important;
  padding: 12px !important;
}

.materi-title {
  font-weight: 600 !important;
  color: var(--text) !important;
}

.q-row {
  background: rgba(255,255,255,0.04) !important;
  border: 1px solid rgba(255,255,255,0.08) !important;
  border-radius: 10px !important;
  padding: 10px !important;
}

input, textarea, select {
  background: rgba(255,255,255,0.05) !important;
  border: 1px solid rgba(255,255,255,0.10) !important;
  color: var(--text) !important;
}

input:focus,
textarea:focus,
select:focus {
  border-color: var(--accent) !important;
}

#wa_modal_root > div {
  backdrop-filter: blur(3px) brightness(0.6) !important;
}

.wa-toast {
  background: var(--accent) !important;
  color: white !important;
  border-radius: 10px !important;
}

.btn.ghost {
  border: 1px solid rgba(255,255,255,0.10) !important;
  background: transparent !important;
  color: var(--text) !important;
}

.btn.ghost:hover {
  background: rgba(255,255,255,0.06) !important;
}

.btn {
  background: var(--accent) !important;
  border: none !important;
  color: #fff !important;
}

.btn:hover {
  filter: brightness(1.1);
}

.btn.danger {
  background: var(--danger) !important;
  color: #fff !important;
}

.course-item {
  background: rgba(255,255,255,0.03) !important;
  border: 1px solid rgba(255,255,255,0.06) !important;
}

.course-item:hover {
  background: rgba(255,255,255,0.06) !important;
}
